global:
  save_local: "disable"
  ignore_ifaces: ["eth0", "vagrant"]
node:
################################## spine02 ####################################
  spine02:
    router_id: "10.255.0.12"
    vrfs:
      - name: vrf1
        table: 1
      - name: vrf2
        table: 2
      - name: vrf3
        table: 3
      - name: vrf4
        table: 4
      - name: vrf5
        table: 5
      - name: vrf6
        table: 6
      - name: vrf7
        table: 7
      - name: vrf8
        table: 8
      - name: vrf9
        table: 9
      - name: vrf10
        table: 10
      - name: vrf11
        table: 11
      - name: vrf12
        table: 12
      - name: vrf13
        table: 13
      - name: vrf14
        table: 14
      - name: vrf15
        table: 15
      - name: vrf16
        table: 16
    interfaces:
      loopback:
        lo:
          ipv4_addresses: ["127.0.0.1/8", "10.255.0.12/32"]
        vrf1:
          ipv4_addresses: ["10.255.1.12/32"]
          vrf: vrf1
          ipv4_routes:
            - "10.252.32.0/30 via 10.252.2.2"
        vrf2:
          ipv4_addresses: ["10.255.2.11/32"]
          vrf: vrf2
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.2.1"
            - "10.252.32.0/30 via 10.252.4.2"
        vrf3:
          ipv4_addresses: ["10.255.3.11/32"]
          vrf: vrf3
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.4.1"
            - "10.252.32.0/30 via 10.252.6.2"
        vrf4:
          ipv4_addresses: ["10.255.4.11/32"]
          vrf: vrf4
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.6.1"
            - "10.252.32.0/30 via 10.252.8.2"
        vrf5:
          ipv4_addresses: ["10.255.5.11/32"]
          vrf: vrf5
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.8.1"
            - "10.252.32.0/30 via 10.252.10.2"
        vrf6:
          ipv4_addresses: ["10.255.6.11/32"]
          vrf: vrf6
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.10.1"
            - "10.252.32.0/30 via 10.252.12.2"
        vrf7:
          ipv4_addresses: ["10.255.7.11/32"]
          vrf: vrf7
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.12.1"
            - "10.252.32.0/30 via 10.252.14.2"
        vrf8:
          ipv4_addresses: ["10.255.8.11/32"]
          vrf: vrf8
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.14.1"
            - "10.252.32.0/30 via 10.252.16.2"
        vrf9:
          ipv4_addresses: ["10.255.9.11/32"]
          vrf: vrf9
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.16.1"
            - "10.252.32.0/30 via 10.252.18.2"
        vrf10:
          ipv4_addresses: ["10.255.10.11/32"]
          vrf: vrf10
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.18.1"
            - "10.252.32.0/30 via 10.252.20.2"
        vrf11:
          ipv4_addresses: ["10.255.11.11/32"]
          vrf: vrf11
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.20.1"
            - "10.252.32.0/30 via 10.252.22.2"
        vrf12:
          ipv4_addresses: ["10.255.12.11/32"]
          vrf: vrf12
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.22.1"
            - "10.252.32.0/30 via 10.252.24.2"
        vrf13:
          ipv4_addresses: ["10.255.13.11/32"]
          vrf: vrf13
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.24.1"
            - "10.252.32.0/30 via 10.252.26.2"
        vrf14:
          ipv4_addresses: ["10.255.14.11/32"]
          vrf: vrf14
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.26.1"
            - "10.252.32.0/30 via 10.252.28.2"
        vrf15:
          ipv4_addresses: ["10.255.15.11/32"]
          vrf: vrf15
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.28.1"
            - "10.252.32.0/30 via 10.252.30.2"
        vrf16:
          ipv4_addresses: ["10.255.16.11/32"]
          vrf: vrf16
          ipv4_routes:
            - "10.252.1.0/30 via 10.252.30.1"
      common:
        # to server01 eth11 (for 500 BGP sessions test)
{% for n in range(1,256,4) %}
        swp1.{{n}}:
          ipv4_addresses: ["10.252.101.{{n}}/30"]
          vrf: vrf1
{% endfor %}
{% for n in range(1,256,4) %}
        swp1.{{256+n}}:
          ipv4_addresses: ["10.252.102.{{n}}/30"]
          vrf: vrf1
          bfd: True
{% endfor %}
{% for n in range(1,256,4) %}
        swp1.{{512+n}}:
          ipv4_addresses: ["10.252.103.{{n}}/30"]
          vrf: vrf1
          bfd: True
{% endfor %}
{% for n in range(1,256,4) %}
        swp1.{{768+n}}:
          ipv4_addresses: ["10.252.104.{{n}}/30"]
          vrf: vrf1
          bfd: True
{% endfor %}
{% for n in range(1,256,4) %}
        swp1.{{1024+n}}:
          ipv4_addresses: ["10.252.105.{{n}}/30"]
          vrf: vrf1
          bfd: True
{% endfor %}
{% for n in range(1,256,4) %}
        swp1.{{1280+n}}:
          ipv4_addresses: ["10.252.106.{{n}}/30"]
          vrf: vrf1
          bfd: True
{% endfor %}
{% for n in range(1,256,4) %}
        swp1.{{1536+n}}:
          ipv4_addresses: ["10.252.107.{{n}}/30"]
          vrf: vrf1
          bfd: True
{% endfor %}
{% for n in range(1,256,4) %}
        swp1.{{1792+n}}:
          ipv4_addresses: ["10.252.108.{{n}}/30"]
          vrf: vrf1
          bfd: True
{% endfor %}

        # in
        swp1:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.1.1/30"]
          vrf: vrf1
        # to swp3
        swp2:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.2.1/30"]
          vrf: vrf1
        # from swp2
        swp3:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.2.2/30"]
          vrf: vrf2
        # to swp5
        swp4:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.4.1/30"]
          vrf: vrf2
        # from swp4
        swp5:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.4.2/30"]
          vrf: vrf3
        # to swp7
        swp6:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.6.1/30"]
          vrf: vrf3
        # from swp6
        swp7:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.6.2/30"]
          vrf: vrf4
        # to swp9
        swp8:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.8.1/30"]
          vrf: vrf4
        # from swp8
        swp9:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.8.2/30"]
          vrf: vrf5
        # to swp11
        swp10:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.10.1/30"]
          vrf: vrf5
        # from swp10
        swp11:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.10.2/30"]
          vrf: vrf6
        # to swp13
        swp12:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.12.1/30"]
          vrf: vrf6
        # from swp12
        swp13:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.12.2/30"]
          vrf: vrf7
        # to swp15
        swp14:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.14.1/30"]
          vrf: vrf7
        # from swp14
        swp15:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.14.2/30"]
          vrf: vrf8
        # to swp17
        swp16:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.16.1/30"]
          vrf: vrf8
        # from swp16
        swp17:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.16.2/30"]
          vrf: vrf9
        # to swp19
        swp18:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.18.1/30"]
          vrf: vrf9
        # from swp18
        swp19:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.18.2/30"]
          vrf: vrf10
        # to swp21
        swp20:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.20.1/30"]
          vrf: vrf10
        # from swp20
        swp21:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.20.2/30"]
          vrf: vrf11
        # to swp23
        swp22:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.22.1/30"]
          vrf: vrf11
        # from swp22
        swp23:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.22.2/30"]
          vrf: vrf12
        # to swp25
        swp24:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.24.1/30"]
          vrf: vrf12
        # from swp24
        swp25:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.24.2/30"]
          vrf: vrf13
        # to swp27
        swp26:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.26.1/30"]
          vrf: vrf13
        # from swp26
        swp27:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.26.2/30"]
          vrf: vrf14
        # to swp29
        swp28:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.28.1/30"]
          vrf: vrf14
        # from swp28
        swp29:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.28.2/30"]
          vrf: vrf15
        # to swp31
        swp30:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.30.1/30"]
          vrf: vrf15
        # from swp30
        swp31:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.30.2/30"]
          vrf: vrf16
        # out
        swp32:
          autoneg: False
          speed: 100000
          ipv4_addresses: ["10.252.32.1/30"]
          vrf: vrf16

    bgp:
      asn: 650302
      merge_paths: True
      neighbors:
        # sdn1
        - name: to_sdn1
          vrf: vrf1
          ipv4: "10.252.1.2"
          asn: 650111
          bfd: swp1
          import: import_bgp_from_servers
          template: servers
{% for n in range(2,256,4) %}
        - name: to_sdn1_1_{{n}}
          vrf: vrf1
          ipv4: "10.252.101.{{n}}"
          asn: 650111
          import: import_bgp_from_servers
          template: servers
          bfd: swp1.{{n}}
{% endfor %}
{% for n in range(2,256,4) %}
        - name: to_sdn1_2_{{n}}
          vrf: vrf1
          ipv4: "10.252.102.{{n}}"
          asn: 650111
          import: import_bgp_from_servers
          template: servers
          bfd: swp1.{{256+n}}
{% endfor %}
{% for n in range(2,256,4) %}
        - name: to_sdn1_3_{{n}}
          vrf: vrf1
          ipv4: "10.252.103.{{n}}"
          asn: 650111
          import: import_bgp_from_servers
          template: servers
          bfd: swp1.{{512+n}}
{% endfor %}
{% for n in range(2,256,4) %}
        - name: to_sdn1_4_{{n}}
          vrf: vrf1
          ipv4: "10.252.104.{{n}}"
          asn: 650111
          import: import_bgp_from_servers
          template: servers
          bfd: swp1.{{768+n}}
{% endfor %}
{% for n in range(2,256,4) %}
        - name: to_sdn1_5_{{n}}
          vrf: vrf1
          ipv4: "10.252.105.{{n}}"
          asn: 650111
          import: import_bgp_from_servers
          template: servers
          bfd: swp1.{{1024+n}}
{% endfor %}
{% for n in range(2,256,4) %}
        - name: to_sdn1_6_{{n}}
          vrf: vrf1
          ipv4: "10.252.106.{{n}}"
          asn: 650111
          import: import_bgp_from_servers
          template: servers
          bfd: swp1.{{1280+n}}
{% endfor %}
{% for n in range(2,256,4) %}
        - name: to_sdn1_7_{{n}}
          vrf: vrf1
          ipv4: "10.252.107.{{n}}"
          asn: 650111
          import: import_bgp_from_servers
          template: servers
          bfd: swp1.{{1536+n}}
{% endfor %}
{% for n in range(2,256,4) %}
        - name: to_sdn1_8_{{n}}
          vrf: vrf1
          ipv4: "10.252.108.{{n}}"
          asn: 650111
          import: import_bgp_from_servers
          template: servers
          bfd: swp1.{{1792+n}}
{% endfor %}
        # sdn2
        - name: to_sdn2
          vrf: vrf16
          ipv4: "10.252.32.2"
          asn: 650111
          bfd: swp32
          import: import_bgp_from_servers
          template: servers

################################## SDN1 ####################################
  SDN1:
    router_id: "10.250.0.101"
    interfaces:
      loopback:
        "lo:0":
          ipv4_addresses: ["10.250.1.101/32"]
      common:
        eth11:
          ipv4_addresses: ["10.252.1.2/30"]
          bfd: True

        eth12:
          ipv4_addresses: ["10.252.1.6/30"]
          bfd: True
    bgp:
      asn: 650111
      merge_paths: True
      neighbors:
        - name: to_spine02
          ipv4: "10.252.1.1"
          asn: 650302
          bfd: eth11
          template: servers
{% for n in range(1,256,4) %}
        - name: to_spine02_1_{{n}}
          ipv4: "10.252.101.{{n}}"
          asn: 650302
          template: servers
          bfd: eth11.{{n}}
{% endfor %}
{% for n in range(1,256,4) %}
        - name: to_spine02_2_{{n}}
          ipv4: "10.252.102.{{n}}"
          asn: 650302
          template: servers
          bfd: eth11.{{256+n}}
{% endfor %}
{% for n in range(1,256,4) %}
        - name: to_spine02_3_{{n}}
          ipv4: "10.252.103.{{n}}"
          asn: 650302
          template: servers
          bfd: eth11.{{512+n}}
{% endfor %}
{% for n in range(1,256,4) %}
        - name: to_spine02_4_{{n}}
          ipv4: "10.252.104.{{n}}"
          asn: 650302
          template: servers
          bfd: eth11.{{768+n}}
{% endfor %}
{% for n in range(1,256,4) %}
        - name: to_spine02_5_{{n}}
          ipv4: "10.252.105.{{n}}"
          asn: 650302
          template: servers
          bfd: eth11.{{1024+n}}
{% endfor %}
{% for n in range(1,256,4) %}
        - name: to_spine02_6_{{n}}
          ipv4: "10.252.106.{{n}}"
          asn: 650302
          template: servers
          bfd: eth11.{{1280+n}}
{% endfor %}
{% for n in range(1,256,4) %}
        - name: to_spine02_7_{{n}}
          ipv4: "10.252.107.{{n}}"
          asn: 650302
          template: servers
          bfd: eth11.{{1536+n}}
{% endfor %}
{% for n in range(1,256,4) %}
        - name: to_spine02_8_{{n}}
          ipv4: "10.252.108.{{n}}"
          asn: 650302
          template: servers
          bfd: eth11.{{1792+n}}
{% endfor %}

        - name: to_leafB
          ipv4: "10.252.1.5"
          asn: 650201
          bfd: eth12
          template: servers
      import: all
      export: all


################################## SDN2 ####################################
  SDN2:
    router_id: "10.250.0.102"
    interfaces:
      loopback:
        "lo:0":
          ipv4_addresses: ["10.250.1.102/32"]
      common:
        eth11:
          ipv4_addresses: ["10.252.32.2/30"]
          bfd: True

        eth12:
          ipv4_addresses: ["10.252.1.6/30"]
          bfd: True
    bgp:
      asn: 650112
      merge_paths: True
      neighbors:
        - name: to_spine02
          ipv4: "10.252.32.1"
          asn: 650302
          bfd: eth11
          template: servers

        - name: to_leafB
          ipv4: "10.252.1.5"
          asn: 650201
          bfd: eth12
          template: servers
      import: all
      export: all
